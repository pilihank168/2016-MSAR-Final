function cueLabelAdd(inputWaveFile, outputWaveFile, cuePosition, cueLabel)
%cueLabelAdd: Add cue labels to a wave file
%
%	Usage:
%		cueLabelAdd(inputWaveFile, outputWaveFile, cuePosition, cueLabel)
%
%	Example:
%		inputWaveFile='D:\dataSet\igs-鈊象電子\1.歌曲\變拍\560_愛你愛到死(也有變bpm)_74.000.wav';
%		outputWaveFile=[tempname, '.wav'];
%		cuePosition=[0.6796875 1.09765625 1.5703125 3.32421875 3.703125 4.33203125 5.7421875 7.59765625 8.02734375 8.5 9.1171875 9.57421875 10.14453125 10.8828125 11.91015625 14.1953125 15.046875 15.265625 15.69921875 15.90234375 16.35546875 16.76953125 17.2109375 17.62109375 18.04296875 18.28125 18.4609375 18.91015625 19.3359375 20.22265625 21.0625 21.70703125 22.33203125 22.7734375 23.41796875 23.625 24.0625 24.48046875 25.32421875 25.78125 26.21875 26.671875 27.0625 27.91796875 28.76953125 29.19921875 29.4140625 29.64453125 30.05078125 30.484375 30.91796875 31.34765625 31.9765625 32.1953125 32.6171875 33.05078125 33.91015625 34.34765625 34.77734375 35.21875 35.62890625 36.0546875 36.47265625 36.90625 37.140625 37.34765625 37.76953125 38.203125 38.6015625 39.05859375 39.4921875 39.9140625 42.46875 43.33984375 43.7890625 44.203125 44.6015625 44.86328125 45.05859375 45.51953125 45.9296875 46.3203125 46.50390625 46.77734375 47.1796875 47.61328125 48.07421875 48.484375 48.93359375 49.34375 50.203125 50.62890625 51.05859375 51.4765625 51.94140625 52.39453125 53.21484375 53.390625 53.62890625 54.046875 54.30859375 54.72265625 55.34765625 55.78515625 56.6171875 57.03515625 57.48828125 57.87890625 58.31640625 58.55859375 59.015625 59.625 60.0390625 60.47265625 60.87890625 61.08984375 61.53515625 61.74609375 62.2109375 63.04296875 63.4609375 63.84765625 64.2890625 64.70703125 65.125 65.44140625 65.6015625 66.03515625 66.46484375 66.8671875 67.0390625 67.3359375 67.76171875 68.203125 68.44140625 68.60546875 69.07421875 69.91796875 70.36328125 70.74609375 71.20703125 71.62890625 72.05859375 72.4609375 72.88671875 73.15234375 73.328125 73.6171875 73.74609375 74.19921875 74.6171875 75.04296875 75.47265625 75.84765625 76.31640625 76.55078125 76.76171875 77.20703125 77.40625 77.62890625 78.05859375 78.48828125 78.9140625 79.3359375 79.75 80.1875 80.61328125 81.046875 81.484375 81.90234375 82.33984375 82.76171875 83.15625 83.60546875 83.8359375 84.046875 84.4375 84.9140625 85.33984375 85.77734375 86.16796875 86.57421875 86.84375 87.0546875 87.2734375 87.90234375 88.33203125 88.73046875 89.30078125 89.61328125 90.25390625 90.515625 90.96875 91.390625 91.78125 92.03515625 92.203125 92.6328125 93.0390625 93.69921875 93.8984375 94.328125 94.74609375 95.19921875 95.62109375 96.05078125 96.48046875 96.91796875 97.34375 97.76953125 97.98046875 98.19921875 98.61328125 99 99.1328125 99.53515625 99.8203125 100.22265625 100.62890625 101.234375 101.4375 101.640625 101.84375 102.25390625 102.46484375 102.66015625 103.06640625 103.47265625 103.87109375 104.29296875 104.4765625 104.68359375 104.88671875 105.09375 105.49609375 105.6953125 105.90625 106.11328125 106.30859375 106.7109375 107.11328125 107.53125 107.9296875 108.12890625 108.3359375 108.7421875 109.14453125 109.55078125 109.9609375 110.359375 110.55859375 110.765625 111.57421875 111.7734375 111.97265625 112.78125 113.26171875 113.59765625 113.99609375 114.21484375 114.4140625 114.82421875 115.22265625 115.63671875 115.8125 116.03515625 116.84765625 117.26171875 117.65625 117.859375 118.0625 118.46875 119.27734375 119.72265625 120.0859375 120.484375 120.703125 120.90234375 121.3046875 121.7109375 122.12890625 122.33203125 122.5234375 122.9609375 123.1953125 123.33984375 123.58984375 123.75 123.94921875 124.140625 124.34765625 124.75390625 124.95703125 125.1796875 125.75390625 126.16796875 126.56640625 126.9765625 127.203125 127.3828125 127.5859375 127.79296875 128.19921875 128.6015625 129.015625 129.4140625 129.6796875 129.81640625 130.23828125 130.4296875 130.625 130.83203125 131.03515625 131.44140625 131.64453125 131.84765625 132.25 132.67578125 133.0625 133.48046875 133.7265625 133.8828125 134.07421875 134.27734375 134.68359375 135.09375 135.29296875 135.49609375 135.921875 136.1171875 136.3046875 136.53125 136.7265625 136.9140625 137.109375 137.31640625 137.5078125 137.9296875 138.34765625 138.52734375 138.73828125 139.140625 139.546875 139.94140625 140.15234375 140.34765625 140.5625 140.7578125 140.98828125 141.1640625 141.35546875 141.58984375 141.98828125 142.30078125 142.7890625 143.19921875 143.390625 143.58984375 143.8046875 144 144.21875 144.3984375 144.61328125 144.8203125 145.0078125 145.21875 145.62890625 146.03125 146.453125 146.82421875 147.04296875 147.24609375 147.45703125 147.65625 148.05859375 148.26171875 148.46875 148.875 149.27734375 149.6875 150.0859375 150.28515625 150.4765625 150.6953125 150.88671875 151.03125 151.3046875 151.70703125 152.1171875 152.515625 152.69140625 153.1328125 153.328125 153.73046875 153.984375 154.140625 154.359375 154.55078125 154.81640625 154.95703125 155.359375 155.5625 155.76953125 156.23828125 156.3828125 156.57421875 156.7734375 156.98828125 157.37890625 157.57421875 157.796875 157.9921875 158.1953125 158.6015625 158.8203125 159.00390625 159.42578125 159.640625 159.81640625 160.0234375 160.43359375 160.62890625 160.83203125 161.0390625 161.234375 161.44921875 161.85546875 162.2578125 162.75390625 162.8828125 163.05859375 163.26171875 163.46875 163.875 164.2734375 164.68359375 165.08984375 165.28125 165.5078125 166.1015625 166.31640625 166.51171875 166.71484375 167.125 167.3125 167.53125 167.9296875 168.078125 168.7421875 169.33984375 169.55078125 170.0234375 170.15625 170.37890625 170.6328125 170.77734375 171.171875 171.984375 172.31640625 172.7265625 173.1640625 173.42578125 173.58984375 173.8046875 174 174.2109375 174.40625 174.8203125 175.22265625 175.43359375 175.62890625 176.0625 176.26171875 176.44140625 176.66015625 176.84375 177.05078125 177.24609375 177.453125 177.65625 177.8046875 178.0703125 178.265625 178.46875 178.67578125 178.875 179.28125 179.6796875 179.90625 180.09375 180.29296875 180.4921875 180.71875 180.8984375 181.3046875 181.71484375 181.9140625 182.1171875 182.3203125 182.51171875 182.72265625 182.9296875 183.125 183.31640625 183.55078125 183.7421875 184.1328125 184.28515625 184.5546875 184.94921875 185.15234375 185.35546875 185.75 186.140625 186.38671875 186.77734375 186.96875 187.19140625 187.37890625 188.1875 188.7109375 189 189.3359375 189.609375 189.80859375 189.953125 190.22265625 190.625 191.2421875 191.44140625 191.84765625 192.25 192.453125 192.875 193.0546875 193.26171875 193.4453125 193.62890625 193.86328125 194.2890625 194.68359375 194.89453125 195.3046875 195.484375 195.68359375 195.8984375 196.3125 196.71484375 196.8984375 197.12109375 197.51171875 197.7265625 197.92578125 198.12890625 198.34765625 198.56640625 198.75 199.01953125 199.33203125 199.5390625 199.86328125 200.2890625 200.4296875 200.62109375 201.33203125 201.66796875 202.87890625 203.015625 203.25390625 203.51171875 203.71484375 203.94921875 204.234375 204.5625 204.71875 205.01171875 205.29296875 205.5546875 205.77734375 205.90625 206.0234375 206.15234375 206.40234375 206.69921875 207.35546875 207.58984375 207.875 208.140625];
%		cueLabelAdd(inputWaveFile, outputWaveFile, cuePosition);
%		dos(['start ', outputWaveFile]);

if nargin<1, selfdemo; return; end
if nargin<4
	for i=1:length(cuePosition)
		cueLabel{i}=int2str(i);
	end
end

fid=fopen(inputWaveFile, 'rb'); binWave=fread(fid); fclose(fid);
[~, fs]=wavread(inputWaveFile);	% For obtaining fs only

cuePosition=cuePosition*fs;		% Convert to sample index
binWave = addCueLabel2binWave(binWave, cuePosition, cueLabel);
fid=fopen(outputWaveFile,'wb'); fwrite(fid, binWave); fclose(fid);

% ====== Self demo
function selfdemo
mObj=mFileParse(which(mfilename));
strEval(mObj.example);
